angular.module("ui.bootstrap.modal",[]).constant("modalConfig",{backdrop:true,escape:true}).directive("modal",["$parse","modalConfig",function(d,c){var b;var a=angular.element(document.getElementsByTagName("body")[0]);return{restrict:"EA",link:function(o,j,m){var e=angular.extend({},c,o.$eval(m.uiOptions||m.bsOptions||m.options));var i=m.modal||m.show;var g;if(m.close){g=function(){o.$apply(m.close)}}else{g=function(){o.$apply(function(){d(i).assign(o,false)})}}j.addClass("modal");if(e.backdrop&&!b){b=angular.element('<div class="modal-backdrop"></div>');b.css("display","none");a.append(b)}function f(p){o.$apply(function(){model.assign(o,p)})}function l(p){if(p.which===27){g()}}function k(){g()}function n(){if(e.escape){a.unbind("keyup",l)}if(e.backdrop){b.css("display","none").removeClass("in");b.unbind("click",k)}j.css("display","none").removeClass("in");a.removeClass("modal-open")}function h(){if(e.escape){a.bind("keyup",l)}if(e.backdrop){b.css("display","block").addClass("in");if(e.backdrop!="static"){b.bind("click",k)}}j.css("display","block").addClass("in");a.addClass("modal-open")}o.$watch(i,function(q,p){if(q){h()}else{n()}})}}}]);
